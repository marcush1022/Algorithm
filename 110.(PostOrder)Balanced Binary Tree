/***************************************************************************************************/
Given a binary tree, determine if it is height-balanced.

For this problem, a height-balanced binary tree is defined as a binary tree in which the
depth of the two subtrees of every node never differ by more than 1.
/***************************************************************************************************/

class Solution {
public:

	int isBalanced(TreeNode* root)
	{
		int depth=0;
		return judgeIsBalanced(root, &depth);
	}
	
	bool judgeIsBalanced(TreeNode* root, int* depth)
	{
		if(root==NULL)
		{
			*depth=0;
			return true;
		}
		
		int left, right;
		if(judgeIsBalanced(root->left, &left) && judgeIsBalanced(root->right, &right))
		{
			*depth=left-right;
			if(*depth<=1 && *depth>=-1)
			{
				*depth=1+(left>right ? left : right);
				return true;
			}
		}
		
		return false;
	}
};
