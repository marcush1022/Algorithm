/**********************************************************************************/
Implement atoi to convert a string to an integer.

Hint: Carefully consider all possible input cases. If you want a challenge, please 
do not see below and ask yourself what are the possible input cases.

Notes: It is intended for this problem to be specified vaguely (ie, no given input 
specs). You are responsible to gather all the input requirements up front.
/**********************************************************************************/

class Solution {
public:
	int removeSpace(string &str, int len)
	{
		int ret=0;
		for(int i=0; i<len; i++)
		{
			if(str[i]!=' ')
				str[ret++]=str[i];
		}
		cout<<"ret= "<<ret<<endl;
		return ret;
	}
	int countNegative(string str, int len)
	{
		int nega=0;
		for(int i=0; i<len; i++)
		{
			if(str[i]=='-')
				nega++;
		}
		cout<<"nega= "<<nega<<endl;
		return nega;
	}

    int myAtoi(string str) {
        int len=str.length();
		int sign=true;
		int sum=0;

		if(len==0)
			return 0;
		int newLen=removeSpace(str, len);

		int i=0;
		while(str[i]=='-' || str[i]=='+')
			i++;
		int nega=countNegative(str, i);
		if(nega%2)
			sign=false;

		while(i<newLen)
		{
			if(str[i]>='0' && str[i]<='9')
			{
				sum=sum*10+str[i]-'0';
				if(sum>INT_MAX)
					return 0;
			}
			i++;
		}

        cout<<"sign= "<<sign<<endl;
		if(sign)
			return sum;
		else
			return -1*sum;
    }
};

int main()
{
    Solution s;
    string str="---   --++142  ---25";
    cout<<s.myAtoi(str);
}
