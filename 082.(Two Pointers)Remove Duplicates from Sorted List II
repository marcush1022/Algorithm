/************************************************************************************/
Given a sorted linked list, delete all nodes that have duplicate numbers, 
leaving only distinct numbers from the original list.

For example,
Given 1->2->3->3->4->4->5, return 1->2->5.
Given 1->1->1->2->3, return 2->3.
/************************************************************************************/

class Solution {
public:
    ListNode* deleteDuplicates(ListNode* head) {
        if(head==NULL || head->next==NULL)
            return head;
        ListNode *pre, *p;
        ListNode *nhead=new ListNode(0);
        nhead->next=head;
        pre=nhead, p=nhead->next;
        while(p)
        {
            while(p->next!=NULL && p->next->val==pre->next->val)
                p=p->next;
            if(pre->next==p)
            {
                pre=p;
                p=p->next;
            }
            else
            {
                pre->next=p->next;
                p->next=NULL;
                p=pre->next;
            }
            
        }
        return nhead->next;
    }
};
